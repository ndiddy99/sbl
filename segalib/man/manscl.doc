*******************************************************************************
●ファイル記号名称	：MANSCL.DOC
●対象ライブラリ記号名称：scl
●対象ライブラリ名称	：ＶＤＰ２ライブラリ
●バージョン　　	：1.04
●作成者		：K.M
●作成日		：1994-11-11
●その他のメッセージ	：なし
*******************************************************************************

1.２ｎｄステップライブラリ(Ver0.90)との違い
　●基本的には、ソースコードレベルで互換です。コンパイルをやり直すことにより
　　２ｎｄステップで作成したアプリケーションがそのまま動作します。
　　ただし、以下の場合には注意が必要です。
　　　・テーブル初期化関数を使用していない場合
　　　　［対策］新たに追加されたテーブル項目についても初期化をする。
　　　・memcpyw()を使用されている場合
　　　　［対策］ファンクション名をSCL_Memcpyw()に変更して下さい。
　　　　　　　　レジスタやカラーＲＡＭなどのBtye転送不可以外の領域であれば、
　　　　　　　　Ｃ言語関数のmemcpy()と置き換えることも可能です。

　●新たに追加された５ファンクション
　　　・SCL_SetRotateCenterDisp()
　　　　回転スクロール面を画面回転させる場合の中心点を設定
　　　・SCL_SetCoefficientData()
　　　　回転パラメータ係数テーブルに拡大縮小データをセットする
　　　・SCL_DisableBlur()
　　　　ボカシ演算を無効にする
　　　・SCL_DisableLineCol()
　　　　ラインカラー画面を解除する
　　　・SCL_AbortAutoVe()
　　　　自動ＶＥの強制終了

　●回転面のＺ軸方向移動の仕様の変更
　　回転角度０度でもＺ座標の指定が有効になりました。
　　（回転角度０度で値を変化させた場合は、みかけ上拡大縮小と変わりません。）

　●回転パラメータ係数テーブルをカラーＲＡＭに設定できるようになりました。
　　ＶＲＡＭコンフィグレーションデータの構造体に１項目追加されました。
　　（計３項目追加）

　●回転パラメータ係数テーブルの設定位置を0x400単位で指定できるようにしました。
　　ＶＲＡＭコンフィグレーションデータの構造体に２項目追加されました。
　　（計３項目追加）

　●スクロールで１ワードパターンネームデータを仕様する場合の不具合を修正
　　２ｎｄステップ版では、ＶＲＡＭの後半にキャラクタパターンデータを配置
　　できないという不具合がありましたが修正しました。
　　スクロールコンフィグレーションデータの構造体に１項目追加されました。

  ●実行型ファイルを小さくする為、ライブラリソースファイルを細分しました。

　●内部で使用している三角関数のsin(90),cos(0)が1.0ではありませんでしたが
　　1.0に修正しました。

2.３ｒｄステップライブラリ(Ver1.00)との違い
　●SCL_SetAutoColMix()のバグ修正

　●SCL_VblankEnd()のバグ修正

3.３ｒｄステップライブラリ(Ver1.02)との違い
　●SCL_SetConfig()のバグ修正
　　回転スクロール面の設定に誤りがありました。（画面オーバー処理とプレーンサイズ）

　●Ｘ軸回転とＹ軸回転の時に最後のラインにごみがでるバグを修正。

4.３ｒｄステップライブラリ(Ver1.03)との違い
　●コンパイル時にファイル名を大文字で指定していたのを小文字に変更。

　●SCL_SetFrameInterval()のイレースライト指定の設定が正しく行われないバグを
　　修正。

　●SCL_AllocColRam()で２５６色以上の領域を確保できないバグを修正。

　●ラインスクロールが処理落ちするバグを修正。

5.ライブラリの改造について
　３ｒｄステップでは、ライブラリの機能強化や高速化などカスタマイズを容易にする
　ために、ＶＤＰ２ライブラリのレジスタバッファをマニュアルに記述しました。
　簡単な機能追加方法を解説します。

　●画面表示ＯＮ／ＯＦＦ（全画面の表示ＯＮ／ＯＦＦの指定）
　　［画面ＯＮ］
	void disp_on()
	{
		Scl_s_reg.tvmode |= 0x8000;
		SclProcess = 1;
		SCL_DisplayFrame();/* フレームチェンジがオート以外の場合 */
	}
　　［画面ＯＦＦ］
	void disp_off()
	{
		Scl_s_reg.tvmode &= 0x7fff;
		SclProcess = 1;
		SCL_DisplayFrame();/* フレームチェンジがオート以外の場合 */
	}

　●他の機能は使用せずノーマルスクロール面０（ＮＢＧ０）のＸ座標だけを変化させ
　　たい場合
　　［どこでも可］
　　　　Scl_n_reg.n0_move_x = ???;（スクロール座標の指定）
　　［V-Blank In割り込み内］
　　　　(*(Uint16 *)(0x25f80070)) = Scl_n_reg.n0_move_x;

6.マニュアルの記述の誤りについて
　　ＶＤＰ２のハードウェアの仕様でＢｉｔＭａｐの開始位置がバンクの最初からしか
　指定出来ませんが、ＶＤＰ２ライブラリのマニュアルの記述でバンクの途中からマッ
　ピングしている間違った記述がありました。設計の際に御注意ください。

　【誤】
    +------------------+
    | VRAM A0          |  00000h  回転面０(RBG0)のBitMapデータ(256色)
    |                  |
    |                  |
    |                  |
    +------------------+
    | VRAM A1          |  20000h 回転面の係数テーブル
    |                  |
    |                  |  28000h 回転パラメータテーブル
    |                  |
    +------------------+
    | VRAM B0          |  40000h ノーマル面０(NBG0)のBitMapデータ(16色)
    |                  |
    |                  |  50000h ノーマル面１(NBG1)のBitMapデータ(16色)※
    |                  |
    +------------------+
    | VRAM B1          |  60000h ノーマル面２(NBG2)のｷｬﾗｸﾀﾊﾟﾀｰﾝ（セル）データ(16色)
    |                  |  68000h ノーマル面２(NBG2)のマップデータ(16色)
    |                  |  70000h ノーマル面３(NBG3)のｷｬﾗｸﾀﾊﾟﾀｰﾝ（セル）データ(16色)
    |                  |  78000h ノーマル面３(NBG3)のマップデータ(16色)
    +------------------+

　【正】
    +------------------+
    | VRAM A0          |  00000h  回転面０(RBG0)のBitMapデータ(256色)
    |                  |
    |                  |
    |                  |
    +------------------+
    | VRAM A1          |  20000h 回転面の係数テーブル
    |                  |
    |                  |  28000h 回転パラメータテーブル
    |                  |
    +------------------+
    | VRAM B0          |  40000h ノーマル面０(NBG0)のBitMapデータ(16色)
    |                  |
    |                  |  50000h ノーマル面２(NBG2)のｷｬﾗｸﾀﾊﾟﾀｰﾝ（セル）データ(16色)
    |                  |  58000h ノーマル面２(NBG2)のマップデータ(16色)
    +------------------+
    | VRAM B1          |  60000h ノーマル面１(NBG1)のBitMapデータ(16色)※
    |                  |
    |                  |  70000h ノーマル面３(NBG3)のｷｬﾗｸﾀﾊﾟﾀｰﾝ（セル）データ(16色)
    |                  |  78000h ノーマル面３(NBG3)のマップデータ(16色)
    +------------------+

********************************** end of file ********************************
